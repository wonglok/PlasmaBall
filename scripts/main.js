!function(t){base64={},t.base64=base64,base64.PADCHAR="=",base64.ALPHA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",base64.getbyte64=function(t,n){var r=base64.ALPHA.indexOf(t.charAt(n));if(-1==r)throw"Cannot decode base64";return r},base64.decode=function(t){t=""+t;var n,r,e,a=base64.getbyte64,i=t.length;if(0==i)return t;if(i%4!=0)throw"Cannot decode base64";n=0,t.charAt(i-1)==base64.PADCHAR&&(n=1,t.charAt(i-2)==base64.PADCHAR&&(n=2),i-=4);var o=[];for(r=0;i>r;r+=4)e=a(t,r)<<18|a(t,r+1)<<12|a(t,r+2)<<6|a(t,r+3),o.push(String.fromCharCode(e>>16,e>>8&255,255&e));switch(n){case 1:e=a(t,r)<<18|a(t,r+1)<<12|a(t,r+2)<<6,o.push(String.fromCharCode(e>>16,e>>8&255));break;case 2:e=a(t,r)<<18|a(t,r+1)<<12,o.push(String.fromCharCode(e>>16))}return o.join("")},base64.getbyte=function(t,n){var r=t.charCodeAt(n);if(r>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return r},base64.encode=function(t){if(1!=arguments.length)throw"SyntaxError: Not enough arguments";var n,r,e=base64.PADCHAR,a=base64.ALPHA,i=base64.getbyte,o=[];t=""+t;var s=t.length-t.length%3;if(0==t.length)return t;for(n=0;s>n;n+=3)r=i(t,n)<<16|i(t,n+1)<<8|i(t,n+2),o.push(a.charAt(r>>18)),o.push(a.charAt(r>>12&63)),o.push(a.charAt(r>>6&63)),o.push(a.charAt(63&r));switch(t.length-s){case 1:r=i(t,n)<<16,o.push(a.charAt(r>>18)+a.charAt(r>>12&63)+e+e);break;case 2:r=i(t,n)<<16|i(t,n+1)<<8,o.push(a.charAt(r>>18)+a.charAt(r>>12&63)+a.charAt(r>>6&63)+e)}return o.join("")}}(window),function(t){"use strict";function n(t,n){return"object"==typeof t&&null!==t}function r(t){return"number"==typeof t}function e(t){return"string"==typeof t}function a(t){return"function"==typeof t}function i(t){return"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null===t}function s(t){return"undefined"==typeof t}function u(){for(var t,r,e=arguments[0]||{},a=1,i=arguments.length;i>a;a++)if(t=arguments[a],n(t))for(r in t)e[r]=t[r];return e}function l(t,n){return isNaN(Number(t))?Math.random():(isNaN(Number(n))&&(n=0),Math.random()*(t-n)+n)}function h(t,n){return isNaN(Number(t))?NaN:(isNaN(Number(n))&&(n=0),Math.floor(Math.random()*(t-n+1)+n))}function c(t,n){this.x=t||0,this.y=n||0}function g(t,n){this.delay=t||0,this.repeatCount=n||0}t.isObject=n,t.isNumber=r,t.isString=e,t.isFunction=a,t.isArray=i,t.isNull=o,t.isUndefined=s,t.extend=u,t.random=l,t.random=h,function(t){function n(){if(r>0){if(r===e)return;e++}window.console.log.apply(window.console,arguments)}var r=0,e=0;n.limit=function(t){r=0>t?0:t},t.log=n}(window),c.create=function(t,r){return i(t)?new c(t[0],t[1]):n(t)?new c(t.x,t.y):new c(t,r)},c.add=function(t,n){return new c(t.x+n.x,t.y+n.y)},c.subtract=function(t,n){return new c(t.x-n.x,t.y-n.y)},c.scale=function(t,e,a){return n(e)?(a=e.y,e=e.x):r(a)||(a=e),new c(t.x*e,t.y*a)},c.equals=function(t,n){return t.x==n.x&&t.y==n.y},c.angle=function(t){return Math.atan2(t.y,t.x)},c.distance=function(t,n){var r=t.x-n.x,e=t.y-n.y;return Math.sqrt(r*r+e*e)},c.dot=function(t,n){return t.x*n.x+t.y*n.y},c.cross=function(t,n){return t.x*n.y-t.y*n.x},c.interpolate=function(t,n,r){var e=n.x-t.x,a=n.y-t.y;return new c(t.x+e*r,t.y+a*r)},c.polar=function(t,n){return new c(t*Math.sin(n),t*Math.cos(n))},c.prototype={add:function(t){return c.add(this,t)},subtract:function(t){return c.subtract(this,t)},scale:function(t,n){return c.scale(this,t,n)},equals:function(t){return c.equals(this,t)},angle:function(){return c.angle(this)},distance:function(t){return c.distance(this,t)},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},set:function(t,r){return n(t)&&(r=t.y,t=t.x),this.x=t||0,this.y=r||0,this},offset:function(t,r){return n(t)&&(r=t.y,t=t.x),this.x+=t||0,this.y+=r||0,this},normalize:function(t){(o(t)||s(t))&&(t=1);var n=this.length();return n>0&&(this.x=this.x/n*t,this.y=this.y/n*t),this},negate:function(){return this.x*=-1,this.y*=-1,this},perp:function(){return this.x=-y,this.y=x,this},clone:function(){return c.create(this)},toArray:function(){return[this.x,this.y]},toString:function(){return"(x:"+this.x+", y:"+this.y+")"}},t.Point=c,g.prototype={onTimer:null,onTimerComplete:null,_running:!1,_currentCount:0,_timerId:null,currentCount:function(){return this._currentCount},running:function(){return this._running},start:function(){if(!this._running||this.delay){var t=this,n=function(){return t.onTimer&&t.onTimer.call(t),t.repeatCount&&(t._currentCount++,t._currentCount===t.repeatCount)?(t.stop(),void(t.onTimerComplete&&t.onTimerComplete.call(t))):void(t._timerId=setTimeout(n,t.delay))};this._timerId=setTimeout(n,t.delay),this._running=!0}},stop:function(){this._running&&(clearTimeout(this._timerId),this._currentCount=0,this._running=!1)},reset:function(){this.stop(),this.start()}},t.Timer=g,function(t){function n(){var t=this,n=arguments.length?Array.prototype.slice.call(arguments):[(new Date).getTime()],e=123456789,a=362436069,i=521288629,o=88675123,s=886756453;t.uint32=function(){var t=(e^e>>>7)>>>0;return e=a,a=i,i=o,o=s,s=s^s<<6^(t^t<<13)>>>0,(a+a+1)*s>>>0},t.random=function(){return 2.3283064365386963e-10*t.uint32()},t.fract53=function(){return t.random()+1.1102230246251565e-16*(2097151&t.uint32())};for(var u,l=0,h=n.length;h>l;l++)u=n[l],e^=4294967296*r(u),a^=4294967296*r(u),i^=4294967296*r(u),s^=4294967296*r(u),o^=4294967296*r(u)}function r(t){t=t.toString();for(var n=4022871197,r=0,e=t.length;e>r;r++){n+=t.charCodeAt(r);var a=.02519603282416938*n;n=a>>>0,a-=n,a*=n,n=a>>>0,a-=n,n+=4294967296*a}return 2.3283064365386963e-10*(n>>>0)}t.Xorshift=n}(t),function(t){function n(t){this.isClassic=n.useClassic,u(this,this.isClassic?new r(t):new e(t))}function r(t){this.seed(t)}function e(t){this.seed(t)}function a(t,n,r){return t[0]*n+t[1]*r}function i(t,n,r,e){return t[0]*n+t[1]*r+t[2]*e}function o(t,n,r,e,a){return t[0]*n+t[1]*r+t[2]*e+t[3]*a}function s(t,n,r){return(1-r)*t+r*n}function l(t){return t*t*t*(t*(6*t-15)+10)}n.useClassic=!1;var h=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],c=[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]],g=[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]];r.prototype={_octaves:4,_fallout:.5,seed:function(t){var n,r=new Xorshift(t||(new Date).getTime()).random,e=[];for(n=0;256>n;n++)e[n]=Math.floor(256*r());var a=[];for(n=0;512>n;n++)a[n]=e[255&n];this._perm=a},octaves:function(t){return arguments.length?this._octaves=t:this._octaves},fallout:function(t){return arguments.length?this._fallout=t:this._fallout},noise:function(t,n,r){var e,a=0,i=1,o=this._octaves,s=.5,u=this._fallout;switch(arguments.length){case 1:e=function(){return this.noise2d(t*i,0)};break;case 2:e=function(){return this.noise2d(t*i,n*i)};break;case 3:e=function(){return this.noise3d(t*i,n*i,r*i)};break;default:return a}for(var l=0;o>l;++l)a+=(1+e.call(this))*s*.5,s*=u,i*=2;return a},noise2d:function(t,n){var r=Math.floor(t),e=Math.floor(n);t-=r,n-=e,r=255&r,e=255&e;var i=this._perm,o=i[r+i[e]]%12,u=i[r+i[e+1]]%12,c=i[r+1+i[e]]%12,g=i[r+1+i[e+1]]%12,d=a(h[o],t,n),f=a(h[c],t-1,n),b=a(h[u],t,n-1),m=a(h[g],t-1,n-1),p=l(t),v=l(n),w=s(d,f,p),y=s(b,m,p),M=s(w,y,v);return M},noise3d:function(t,n,r){var e=Math.floor(t),a=Math.floor(n),o=Math.floor(r);t-=e,n-=a,r-=o,e=255&e,a=255&a,o=255&o;var u=this._perm,c=u[e+u[a+u[o]]]%12,g=u[e+u[a+u[o+1]]]%12,d=u[e+u[a+1+u[o]]]%12,f=u[e+u[a+1+u[o+1]]]%12,b=u[e+1+u[a+u[o]]]%12,m=u[e+1+u[a+u[o+1]]]%12,p=u[e+1+u[a+1+u[o]]]%12,v=u[e+1+u[a+1+u[o+1]]]%12,w=i(h[c],t,n,r),y=i(h[b],t-1,n,r),M=i(h[d],t,n-1,r),C=i(h[p],t-1,n-1,r),x=i(h[g],t,n,r-1),A=i(h[m],t-1,n,r-1),k=i(h[f],t,n-1,r-1),P=i(h[v],t-1,n-1,r-1),L=l(t),N=l(n),R=l(r),S=s(w,y,L),T=s(x,A,L),B=s(M,C,L),_=s(k,P,L),G=s(S,B,N),I=s(T,_,N),D=s(G,I,R);return D}},e.prototype=u({},r.prototype,{noise:function(t,n,r,e){var a,i=0,o=1,s=this._octaves,u=.5,l=this._fallout;switch(arguments.length){case 1:a=function(){return this.noise2d(t*o,0)};break;case 2:a=function(){return this.noise2d(t*o,n*o)};break;case 3:a=function(){return this.noise3d(t*o,n*o,r*o)};break;case 4:a=function(){return this.noise4d(t*o,n*o,r*o,e*o)};break;default:return i}for(var h=0;s>h;++h)i+=(1+a.call(this))*u*.5,u*=l,o*=2;return i},noise2d:function(t,n){var r,e,i,o,s,u=.5*(Math.sqrt(3)-1),l=(t+n)*u,c=Math.floor(t+l),g=Math.floor(n+l),d=(3-Math.sqrt(3))/6,f=(c+g)*d,b=c-f,m=g-f,p=t-b,v=n-m;p>v?(o=1,s=0):(o=0,s=1);var w=p-o+d,y=v-s+d,M=p-1+2*d,C=v-1+2*d,x=this._perm,A=255&c,k=255&g,P=x[A+x[k]]%12,L=x[A+o+x[k+s]]%12,N=x[A+1+x[k+1]]%12,R=.5-p*p-v*v;0>R?r=0:(R*=R,r=R*R*a(h[P],p,v));var S=.5-w*w-y*y;0>S?e=0:(S*=S,e=S*S*a(h[L],w,y));var T=.5-M*M-C*C;return 0>T?i=0:(T*=T,i=T*T*a(h[N],M,C)),70*(r+e+i)},noise3d:function(t,n,r){var e,a,o,s,u,l,c,g,d,f,b=1/3,m=(t+n+r)*b,p=Math.floor(t+m),v=Math.floor(n+m),w=Math.floor(r+m),y=1/6,M=(p+v+w)*y,C=p-M,x=v-M,A=w-M,k=t-C,P=n-x,L=r-A;k>=P?P>=L?(u=1,l=0,c=0,g=1,d=1,f=0):k>=L?(u=1,l=0,c=0,g=1,d=0,f=1):(u=0,l=0,c=1,g=1,d=0,f=1):L>P?(u=0,l=0,c=1,g=0,d=1,f=1):L>k?(u=0,l=1,c=0,g=0,d=1,f=1):(u=0,l=1,c=0,g=1,d=1,f=0);var N=k-u+y,R=P-l+y,S=L-c+y,T=k-g+2*y,B=P-d+2*y,_=L-f+2*y,G=k-1+3*y,I=P-1+3*y,D=L-1+3*y,q=this._perm,H=255&p,F=255&v,W=255&w,E=q[H+q[F+q[W]]]%12,O=q[H+u+q[F+l+q[W+c]]]%12,X=q[H+g+q[F+d+q[W+f]]]%12,Y=q[H+1+q[F+1+q[W+1]]]%12,$=.6-k*k-P*P-L*L;0>$?e=0:($*=$,e=$*$*i(h[E],k,P,L));var z=.6-N*N-R*R-S*S;0>z?a=0:(z*=z,a=z*z*i(h[O],N,R,S));var j=.6-T*T-B*B-_*_;0>j?o=0:(j*=j,o=j*j*i(h[X],T,B,_));var U=.6-G*G-I*I-D*D;return 0>U?s=0:(U*=U,s=U*U*i(h[Y],G,I,D)),32*(e+a+o+s)},noise4d:function(t,n,r,e){var a,i,s,u,l,h=(Math.sqrt(5)-1)/4,d=(5-Math.sqrt(5))/20,f=(t+n+r+e)*h,b=Math.floor(t+f),m=Math.floor(n+f),p=Math.floor(r+f),v=Math.floor(e+f),w=(b+m+p+v)*d,y=b-w,M=m-w,C=p-w,x=v-w,A=t-y,k=n-M,P=r-C,L=e-x,N=A>k?32:0,R=A>P?16:0,S=k>P?8:0,T=A>L?4:0,B=k>L?2:0,_=P>L?1:0,G=N+R+S+T+B+_,I=g[G][0]>=3?1:0,D=g[G][1]>=3?1:0,q=g[G][2]>=3?1:0,H=g[G][3]>=3?1:0,F=g[G][0]>=2?1:0,W=g[G][1]>=2?1:0,E=g[G][2]>=2?1:0,O=g[G][3]>=2?1:0,X=g[G][0]>=1?1:0,Y=g[G][1]>=1?1:0,$=g[G][2]>=1?1:0,z=g[G][3]>=1?1:0,j=A-I+d,U=k-D+d,V=P-q+d,J=L-H+d,K=A-F+2*d,Q=k-W+2*d,Z=P-E+2*d,tt=L-O+2*d,nt=A-X+3*d,rt=k-Y+3*d,et=P-$+3*d,at=L-z+3*d,it=A-1+4*d,ot=k-1+4*d,st=P-1+4*d,ut=L-1+4*d,lt=this._perm,ht=255&b,ct=255&m,gt=255&p,dt=255&v,ft=lt[ht+lt[ct+lt[gt+lt[dt]]]]%32,bt=lt[ht+I+lt[ct+D+lt[gt+q+lt[dt+H]]]]%32,mt=lt[ht+F+lt[ct+W+lt[gt+E+lt[dt+O]]]]%32,pt=lt[ht+X+lt[ct+Y+lt[gt+$+lt[dt+z]]]]%32,vt=lt[ht+1+lt[ct+1+lt[gt+1+lt[dt+1]]]]%32,wt=.6-A*A-k*k-P*P-L*L;0>wt?a=0:(wt*=wt,a=wt*wt*o(c[ft],A,k,P,L));var yt=.6-j*j-U*U-V*V-J*J;0>yt?i=0:(yt*=yt,i=yt*yt*o(c[bt],j,U,V,J));var Mt=.6-K*K-Q*Q-Z*Z-tt*tt;0>Mt?s=0:(Mt*=Mt,s=Mt*Mt*o(c[mt],K,Q,Z,tt));var Ct=.6-nt*nt-rt*rt-et*et-at*at;0>Ct?u=0:(Ct*=Ct,u=Ct*Ct*o(c[pt],nt,rt,et,at));var xt=.6-it*it-ot*ot-st*st-ut*ut;return 0>xt?l=0:(xt*=xt,l=xt*xt*o(c[vt],it,ot,st,ut)),27*(a+i+s+u+l)}}),t.PerlinNoise=n}(t),function(t){function e(t,n,r){t/=255,n/=255,r/=255;var e,a,i,o=Math.max(t,n,r),s=Math.min(t,n,r);if(i=(o+s)/2,o===s)e=a=0;else{var u=o-s;switch(o){case t:e=((n-r)/u*60+360)%360;break;case n:e=(r-t)/u*60+120;break;case r:e=(t-n)/u*60+240}a=.5>=i?u/(o+s):u/(2-o-s)}return[e,100*a,100*i]}function a(t,n,r){n/=100,r/=100;var e,a,i;if(0===n)e=a=i=255*r;else{var o=.5>r?r*(1+n):r+n-r*n,s=2*r-o;e=Math.round(255*u(s,o,t+120)),a=Math.round(255*u(s,o,t)),i=Math.round(255*u(s,o,t-120))}return[e,a,i]}function u(t,n,r){return r/=360,0>r&&r++,r>1&&r--,1/6>r?t+6*(n-t)*r:.5>r?n:2/3>r?t+(n-t)*(2/3-r)*6:t}var l={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb(0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb(0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb(0, 0, 255)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb(95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(220, 20, 60)",cyan:"rgb(0, 255, 255)",darkblue:"rgb(0, 0, 139)",darkcyan:"rgb(0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgreen:"rgb(0, 100, 0)",darkgrey:"rgb(169, 169, 169)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb(85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb(72, 61, 139)",darkslategray:"rgb(47, 79, 79)",darkslategrey:"rgb(47, 79, 79)",darkturquoise:"rgb(0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb(0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb(30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb(34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",greenyellow:"rgb(173, 255, 47)",grey:"rgb(128, 128, 128)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb(75, 0, 130)",ivory:"rgb(255, 255, 240)",khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgray:"rgb(211, 211, 211)",lightgreen:"rgb(144, 238, 144)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb(32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb(0, 255, 0)",limegreen:"rgb(50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb(0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb(60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb(0, 250, 154)",mediumturquoise:"rgb(72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb(25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb(0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb(65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb(46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb(0, 255, 127)",steelblue:"rgb(70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb(0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb(64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)"},h=/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/,c=/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)$/,g=/^hsl\(\s*([\d\.]+)\s*,\s*([\d\.]+)%\s*,\s*([\d\.]+)%\s*\)$/,d=/^hsla\(\s*([\d\.]+)\s*,\s*([\d\.]+)%\s*,\s*([\d\.]+)%\s*,\s*([\d\.]+)\s*\)$/,f=/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,b={create:function(t){t=t.replace(/^\s*#|\s*$/g,""),t=t.toLowerCase(),l[t]&&(t=l[t]);var n;return(n=t.match(h)||t.match(c))?new b.RGBA(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(4===n.length?1:n[4])):(n=t.match(g)||t.match(d))?new b.HSLA(parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]),parseFloat(4===n.length?1:n[4])):(3===t.length&&(t=t.replace(/(.)/g,"$1$1")),(n=t.match(f))?new b.RGBA(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),1):null)},luminance:function(t){return t instanceof b.HSLA&&(t=t.toRGBA()),.298912*t.r+.586611*t.g+.114478*t.b},greyscale:function(t){var n=b.luminance(t);return new b.RGBA(n,n,n,this.a)},nagate:function(t){return t instanceof b.HSLA&&(t=t.toRGBA()),new b.RGBA(255-t.r,255-t.g,255-t.b,t.a)},mix:function(t,n,r){t instanceof b.HSLA&&(t=t.toRGBA()),n instanceof b.HSLA&&(n=n.toRGBA()),(o(r)||s(r))&&(r=.5);var e=1-r,a=2*e-1,i=t.a-n.a,u=((a*i===-1?a:(a+i)/(1+a*i))+1)/2,l=1-u;return new b.RGBA(Math.round(t.r*u+n.r*l),Math.round(t.g*u+n.g*l),Math.round(t.b*u+n.b*l),Math.round(t.a*e+n.a*r))}};b.RGBA=function(t,e,a,o){i(t)?(e=t[1],a=t[2],o=t[3],t=t[0]):n(t)&&(e=t.g,a=t.b,o=t.a,t=t.r),this.r=t||0,this.g=e||0,this.b=a||0,this.a=r(o)?o:1},b.RGBA.prototype={toHSLA:function(){var t=e(Math.round(this.r),Math.round(this.g),Math.round(this.b));return new Hsla(t[0],t[1],t[2],this.a)},toArray:function(){return[Math.round(this.r),Math.round(this.g),Math.round(this.b),this.a]},clone:function(){return new b.RGBA(this)},toString:function(){return"rgba("+Math.round(this.r)+", "+Math.round(this.g)+", "+Math.round(this.b)+", "+this.a+")"}},b.HSLA=function(t,e,a,o){i(t)?(e=t[1],a=t[2],o=t[3],t=t[0]):n(t)&&(e=t.s,a=t.l,o=t.a,t=t.h),this.h=t||0,this.s=e||0,this.l=a||0,this.a=r(o)?o:1},b.HSLA.prototype={toRGBA:function(){var t=a(this.h,this.s,this.l);return new Rgba(t[0],t[1],t[2],this.a)},toArray:function(){return[this.h,this.s,this.l,this.a]},clone:function(){return new b.HSLA(this)},toString:function(){return"hsla("+this.h+", "+this.s+"%, "+this.l+"%, "+this.a+")"}},t.Color=b}(t)}(window),function(){"use strict";function t(n,r,e){var a=this,i=n||new Point,o=r||new Point,s=e||45,u=new PerlinNoise(Math.floor(1e3*Math.random())+1);u.octaves(6);var l,h,c=0,g=[],d=null,f=0,b=0;a.speed=.02,a.lineWidth=1.5,a.blur=!1,a.blurColor="rgba(255, 255, 255, 0.75)",a.gradient="rgb(255,255,255, 0.2)",a.start=function(t,n){return arguments.length?void i.set(t,n):i.clone()},a.end=function(t,n){return arguments.length?void o.set(t,n):o.clone()},a.step=function(t){return arguments.length?void(s=Math.floor(t)):s},a.length=function(){return i.distance(o)},a.point=function(t){return l[t]},a.childNum=function(n){if(0===arguments.length)return g.length;if(g.length>n)g.splice(n,g.length-n);else for(var r,e=g.length;n>e;e++)r=new t,r.speed=.03,r.lineWidth=1.5,r.setAsChild(a),g.push(r)},a.plasmaBall=function(n){if(g.length>n)g.splice(n,g.length-n);else for(var r,e=g.length;n>e;e++)r=new t,r.speed=.03,r.lineWidth=1.5,r.setAsChild(a),g.push(r)},a.setAsChild=function(n){n instanceof t&&(d=n,h=new Timer(Math.floor(1500*Math.random())+1),h.onTimer=function(){this.delay=Math.floor(1500*Math.random())+1,a.getStepsFromParent()},h.start())},a.getStepsFromParent=function(){if(d){var t=d.step();f=Math.floor(Math.random()*(t-2)),b=f+Math.floor(Math.random()*(t-f-2))+2}},a.needsUpdate=!1,a.updatePointWithPerlinNoiseChromeOptimized=function(t,n,r,e,a,o,s,l){var h,c,g,d,f,b,m,p,v;h=s*u.noise(n/50-a)*1.5,c=r*h,g=e*h,d=s*u.noise(n/50+a)*1.5,f=r*d,b=e*d,m=Math.sin(Math.PI*(n/(t-1))),p=i.x+o.x*n+(c-f)*m,v=i.y+o.y*n-(g-b)*m,l[n]=l[n]||new Point(p,v),l[n].x=p,l[n].y=v},a.update=function(){d&&(b>d.step()&&this.getStepsFromParent(),i.set(d.point(f)),o.set(d.point(b)));var t,n,r=a.length(),e=o.subtract(i).normalize(r/s),u=e.angle(),h=Math.sin(u),m=Math.cos(u);for(l=l||[],a.needsUpdate&&(l=[],a.needsUpdate=!1),c+=a.speed,t=0,n=s+1;n>t;t++)a.updatePointWithPerlinNoiseChromeOptimized(n,t,h,m,c,e,r,l);for(t=0,n=g.length;n>t;t++)g[t].update()},a.updateGradient=function(t){a.gradient=t},a.draw=function(t){var n,r,e;if(a.blur){var i;for(t.save(),t.globalCompositeOperation="lighter",t.fillStyle="rgba(0, 0, 0, 0.45)",t.shadowBlur=a.blur,t.shadowColor=a.blurColor,t.beginPath(),n=0,r=l.length;r>n;n++)e=l[n],i=r>1?e.distance(l[n===r-1?n-1:n+1]):0,t.moveTo(e.x+i,e.y),t.arc(e.x,e.y,i,0,2*Math.PI,!1);t.fill(),t.shadowBlur=0,t.restore()}for(t.strokeStyle=a.gradient,t.save(),t.lineWidth=Math.random()*a.lineWidth+1,t.beginPath(),n=0,r=l.length;r>n;n++)e=l[n],t[0===n?"moveTo":"lineTo"](e.x,e.y);for(t.stroke(),t.restore(),n=0,r=g.length;r>n;n++)g[n].draw(t)}}PerlinNoise.useClassic=!0,window.Lightning=t}(),function(){"use strict";var t=function(t,n,r){var e;return function(){function a(){r||t.apply(i,o),e=null}var i=this,o=arguments;e?clearTimeout(e):r&&t.apply(i,o),e=setTimeout(a,n||100)}};window.debounce=t}(),function(t){function n(){Point.apply(this,arguments)}function r(){var t,r,e=this,a=this.canvas=document.createElement("canvas"),i=this.context=a.getContext("2d"),o=[],s=[],u=30,l=300,h=[],c=33,g=[];e.iPointers=[{x:0,y:0}],e.mouse={x:0,y:0,down:!1,touch:[]},e.percentageVisible=.5,e.init=function(){e.updateSpace(),e.instDots(),e.instBolt(),e.instThickThunder(),e.instThinThunder(),e.instRandomLight()},e.instBolt=function(){var t;t=new Lightning,t.step(10),t.childNum(2),t.blur=250,t.lineWidth=1,h.push(t)},e.instThickThunder=function(){var t;t=new Lightning,t.step(16),t.childNum(1),t.lineWidth=2,h.push(t)},e.instThinThunder=function(){var t;t=new Lightning,t.step(16),t.childNum(0),t.lineWidth=1,h.push(t)},e.displayPortion=function(t){var n=c-Math.ceil(t*c*e.percentageVisible),r=0;for(g.length=0;n>r;r++){var a=Math.ceil(Math.random()*c);g.push(a)}},e.getRandomMin=function(){var t=Math.random(),n=.3;return n>t&&(t+=n),t},e.instRandomLight=function(){var t=e.getRandomMin();e.randommTimer=setInterval(function(){t=e.getRandomMin(),e.displayPortion(t)},1e3),e.displayPortion(t)},e.stopRandomLight=function(){clearTimeout(e.randomTimer)},e.updateSpace=function(){t=a.width/2,r=a.height/2,u=25,l=a.width<a.height?a.width/3:a.height/3},e.calcNewCircleX=function(n,r,e){return t+n*Math.cos(2*Math.PI*(r/c)*(1+e))},e.calcNewCircleY=function(t,n,e){return r+t*Math.sin(2*Math.PI*(n/c)*(1+e))},e.initDotArray=function(t,r){for(var a=0;c>a;a++)r[a]=new n(e.calcNewCircleX(t,a,0),e.calcNewCircleY(t,a,0))},e.instDots=function(){e.initDotArray(l,s),e.initDotArray(u,o)};var d=0;e.updateDotsCirclePos=function(t,n,r){for(var a=0;c>a;a++)r?(n[a].x=e.calcNewCircleX(t,a,Math.cos(d)*Math.tan(d+.1)),n[a].y=e.calcNewCircleY(t,a,Math.sin(d)*Math.tan(d+.1))):(n[a].x=e.calcNewCircleX(t,a,d),n[a].y=e.calcNewCircleY(t,a,d))},e.withinCircle=function(t,n,r,e,a){return Math.sqrt((t-r)*(t-r)+(n-e)*(n-e))<a},e.withinPlamsaBall=function(){return e.withinCircle(e.mouse.x,e.mouse.y,t,r,l)},e.updateDotsMiltitouchPos=function(n,a){if(e.mouse.touch)for(var i=0,o=e.withinPlamsaBall(),s=e.mouse.touch.length,u=1/s;c>i;i++)if(o)for(var h=e.mouse.touch.length-1;h>=0;h--){var g=e.mouse.touch[h];if(Math.random()<u){var f,b;f=g.clientX-e.mouse.rect.left,b=g.clientY-e.mouse.rect.top,e.withinCircle(f,b,t,r,l)||(f=e.calcNewCircleX(n,i,d),b=e.calcNewCircleY(n,i,d)),a[i].x=f,a[i].y=b}}else a[i].x=e.calcNewCircleX(n,i,d),a[i].y=e.calcNewCircleY(n,i,d)},e.updateDotsMousePos=function(t,n){for(var r=0,a=e.withinPlamsaBall();c>r;r++)a&&Math.random()<.96?(n[r].x=e.mouse.x,n[r].y=e.mouse.y):(n[r].x=e.calcNewCircleX(t,r,d),n[r].y=e.calcNewCircleY(t,r,d))},e.update=function(){d+=.025*Math.random(),e.mouse.down?(e.mouse.touch&&e.mouse.touch.length>1?e.updateDotsMiltitouchPos(l,s):e.updateDotsMousePos(l,s),e.updateDotsCirclePos(u,o,!0)):(e.updateDotsCirclePos(l,s),e.updateDotsCirclePos(u,o))},e.renderOuterBall=function(n){n.beginPath(),n.arc(t,r,l+5,0,2*Math.PI,!1),n.lineWidth=1,n.strokeStyle="#fff",n.stroke()},e.renderInnerBall=function(n){n.beginPath(),n.arc(t,r,u-3,0,2*Math.PI,!1),n.lineWidth=1,n.strokeStyle="#fff",n.stroke()},e.renderRod=function(n){var e=u/4,a=l-u+8,i=r+u-3,o=t-e/2;n.rect(o,i,e,a),n.stroke()},e.renderLightning=function(t,n){s[n].draw(i,!0),t.start(o[n]),t.end(s[n]),t.update(),t.updateGradient(e.getRandomGradient(i)),t.draw(i)},e.getRandomThunderColorPurple=function(){var t,n=Math.random();return t=.1>=n?"rgba(200, 255, 255,"+(Math.random()+.65)+")":.2>=n?"rgba(255, 0, 255,"+(Math.random()+.65)+")":.3>=n?"rgba(200, 0, 255,"+(Math.random()+.65)+")":.4>=n?"rgba(200, 0, 200,"+(Math.random()+.65)+")":.5>=n?"rgba(150, 0, 150,"+(Math.random()+.65)+")":"rgba(100, 0, 100,"+(Math.random()+.65)+")"},e.getRandomThunderColor=function(){var t,n=Math.random();return t=.1>=n?"rgba(200, 255, 255,"+(Math.random()+.65)+")":.2>=n?"rgba(255, 255, 255,"+(Math.random()+.65)+")":.3>=n?"rgba(200, 0, 255,"+(Math.random()+.65)+")":.4>=n?"rgba(200, 0, 200,"+(Math.random()+.65)+")":.5>=n?"rgba(150, 0, 150,"+(Math.random()+.65)+")":.6>=n?"rgba(100, 0, 100,"+(Math.random()+.65)+")":"rgba(150, 0, 255,"+(Math.random()+.65)+")"},e.getGradient=function(t){var n=t.createLinearGradient(0,0,1e3,0);return n.addColorStop(0,e.getRandomThunderColorPurple()),n.addColorStop(.2,e.getRandomThunderColor()),n.addColorStop(1,e.getRandomThunderColor()),n};var f;e.getRandomGradient=function(t){var n,r=Math.random();return.05>=r?n=e.getGradient(t):.2>=r?n=e.getGradient(t):.3>=r?n=e.getGradient(t):.4>=r?n=e.getGradient(t):.5>=r?n=e.getGradient(t):(f||(f=e.getGradient(t)),n=f),n},e.draw=function(t){e.context.fillStyle="#060C2A",e.context.fillRect(0,0,e.canvas.width,e.canvas.height),e.renderInnerBall(t),e.renderOuterBall(t),e.renderRod(t);for(var n,r=s.length-1;r>=0;r--)r in g||(n=Math.random(),.01>=n?e.renderLightning(h[0],r):.03>=n?e.renderLightning(h[1],r):.15>=n&&e.renderLightning(h[2],r),.16>=n?s[r].draw(t):o[r].draw(t));t.save(),t.font="20pt Arial",t.fillText("Sample String",10,50),t.restore()}}n.prototype=Object.create(Point.prototype),n.prototype.draw=function(t){var n=this;t.save(),t.shadowBlur=1,t.shadowColor="rgba(224, 100, 255, 0.2)",t.fillStyle="rgba(224, 100, 255, 1)",t.globalCompositeOperation="lighter",t.beginPath(),t.arc(n.x,n.y,1,0,2*Math.PI,!1),t.closePath(),t.fill(),t.restore()},t.LokPlasmaBall=r}(window),function(){"use strict";function t(){var t=0,n=d.slice(0);n.shift();for(var r=n.length-1;r>=0;r--)g[n[r]]&&(t+=+g[n[r]]);var e=Math.round(t/500*100,0);alert("Your total is :"+e+"%"),f.perLightning.val(e).change(),g.perLightning=e/100}function n(){t(),$("pre").last().html(e())}function r(t){return"/"===t.substr(-1)?t.substr(0,t.length-1):t}function e(){var t,n=g.perLightning;t=n>.7?"gold":n>.5?"silver":"bronze";var e=document.URL;e=r(e);var i=e+"/levels/"+t+".html?state="+a();return console.log(i),i}function a(){g.seed=Math.random().toFixed(2);var t=JSON.stringify(g);return t=base64.encode(t),console.log(t),t}function i(){var t=window.location.search.replace("?state=","");if(t&&""!==t){var n=t;return n=base64.decode(n),console.log(n),console.log(n),g=JSON.parse(n),$("[hide-target]").hide(),!0}return!1}function o(t,n,r,e){var a=14,i="";i+=" font-size: "+a+"; ",i+=" margin-top: 20px; ",i+=" margin-bottom: 20px; ",i+=" line-height: "+a+"px; ",i+=" padding-top: "+n+"px; ",i+=" padding-left: "+t+"px; ",i+=' background:url("'+r+'"); ',i+=" background-position: top center; ",i+=" background-repeat:no-repeat; ";var o="\n",s=n/a-1;if(s>1)for(var u=0;s>=u;u++)o+="\n";return console.log(o+"%c",i),""}function s(){c.canvas.width=window.innerWidth,c.canvas.height=window.innerHeight}function u(){function t(){c.canvas.addEventListener("mousemove",r,!1),c.canvas.addEventListener("mousedown",e,!1),c.canvas.addEventListener("mouseup",a,!1),c.canvas.addEventListener("touchmove",n,!1),c.canvas.addEventListener("touchstart",e,!1),c.canvas.addEventListener("touchend",a,!1),c.canvas.addEventListener("touchcancel",a,!1),c.canvas.addEventListener("touchleave",a,!1)}function n(t){var n=c.canvas.getBoundingClientRect(),r=t.touches[0].clientX-n.left,e=t.touches[0].clientY-n.top;return c.mouse.x=r,c.mouse.y=e,c.mouse.touch=t.touches,c.mouse.rect=n,c.withinPlamsaBall()?t.preventDefault():c.mouse.down=!1,!1}function r(t){var n=c.canvas.getBoundingClientRect(),r=t.clientX-n.left,e=t.clientY-n.top;c.mouse.x=r,c.mouse.y=e}function e(t){c.mouse.down=!0,document.body.style.cursor="pointer"}function a(t){c.mouse.down=!1,document.body.style.cursor="default"}window.lok.plasmaBall=window.lok.plasmaBall||{},window.lok.plasmaBall=c=new LokPlasmaBall,s(),c.init(),c.percentageVisible=g.perLightning,document.getElementById("lokPlasmaBall").appendChild(c.canvas),window.addEventListener("resize",window.debounce(s,100,!0),!0),t(),window.requestAnimationFrame(function i(){window.requestAnimationFrame(i),l()})}function l(){c.update(),c.draw(c.context)}function h(){o(300,100,"http://placehold.it/300x100&text=*WONG LOK 2014*"),i(),u(),$("body").show()}var c;window.lok={};window.submitQuitz=n,window.getLinkFromGrade=e,window.saveState=a,window.resumeState=i;var g={seed:Math.random().toFixed(2),numSports:null,numNewPeople:null,typeMusic:null,numCupWine:null,perMemoryLeft:null,perLightning:.75},d=["perLightning","numSports","numNewPeople","typeMusic","numCupWine","perMemoryLeft"],f={};$(h)}();